const nodemailer=require("nodemailer"),transporter=nodemailer.createTransport({host:process.env.EMAIL_HOST||"localhost",port:process.env.EMAIL_PORT||1025,secure:!1});console.log(`Servicio de email configurado para ${process.env.EMAIL_HOST}:${process.env.EMAIL_PORT}`);const enviarEmail=async({to:to,subject:subject,text:text,html:html})=>{const from=process.env.EMAIL_FROM||"no-responder@sistema.cl";try{const info=await transporter.sendMail({from:from,to:to,subject:subject,text:text,html:html});return console.log(`Correo enviado exitosamente a ${to}: ${info.messageId}`),info}catch(error){console.error(`Error al enviar correo a ${to}:`,error)}};module.exports={enviarEmail:enviarEmail};